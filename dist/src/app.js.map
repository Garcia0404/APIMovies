{"version":3,"sources":["../../src/app.js"],"sourcesContent":["import express from \"express\";\r\nimport cors from \"cors\";\r\nimport { createRouter } from \"./routes/apiRoutes.js\";\r\nexport const createApp = ({movieModel}) => {\r\n  const app = express();\r\n  const PORT = process.env.PORT || 4321;\r\n  app.disable(\"x-powered-by\");\r\n  app.use(cors({\r\n    origin:\"*\",\r\n    methods:[\"GET\"]\r\n  }))\r\n  app.use(express.json())\r\n  app.get(\"/\", (req, res) => {\r\n    res.sendFile(process.cwd() + \"/client/index.html\");\r\n  });\r\n  app.use(\"/api/movies\", createRouter({movieModel:movieModel}));\r\n  app.use((req, res) => {\r\n    res.status(404).json({ message: \"404 NOT FOUND\" });\r\n  });\r\n  app.listen(PORT, () => {\r\n    console.log(`Server listening on port http://localhost:${PORT}`);\r\n  });\r\n};\r\n"],"names":["express","cors","createRouter","createApp","movieModel","app","PORT","process","env","disable","use","origin","methods","json","get","req","res","sendFile","cwd","status","message","listen","console","log"],"mappings":"AAAA,OAAOA,aAAa,UAAU;AAC9B,OAAOC,UAAU,OAAO;AACxB,SAASC,YAAY,QAAQ,wBAAwB;AACrD,OAAO,IAAMC,YAAY;QAAEC,mBAAAA;IACzB,IAAMC,MAAML;IACZ,IAAMM,OAAOC,QAAQC,GAAG,CAACF,IAAI,IAAI;IACjCD,IAAII,OAAO,CAAC;IACZJ,IAAIK,GAAG,CAACT,KAAK;QACXU,QAAO;QACPC,SAAQ;YAAC;SAAM;IACjB;IACAP,IAAIK,GAAG,CAACV,QAAQa,IAAI;IACpBR,IAAIS,GAAG,CAAC,KAAK,SAACC,KAAKC;QACjBA,IAAIC,QAAQ,CAACV,QAAQW,GAAG,KAAK;IAC/B;IACAb,IAAIK,GAAG,CAAC,eAAeR,aAAa;QAACE,YAAWA;IAAU;IAC1DC,IAAIK,GAAG,CAAC,SAACK,KAAKC;QACZA,IAAIG,MAAM,CAAC,KAAKN,IAAI,CAAC;YAAEO,SAAS;QAAgB;IAClD;IACAf,IAAIgB,MAAM,CAACf,MAAM;QACfgB,QAAQC,GAAG,CAAC,AAAC,6CAAiD,OAALjB;IAC3D;AACF,EAAE"}